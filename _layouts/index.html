---
layout: default
pagination: 
  enabled: true
---

<div class="content">
  {% assign count = 0 %}
  {% assign count_limit = site.pagination.per_page | times: 5 %}
  <!-- The posts (generated from Jekyll) are loaded into this template, to be mixed -->
  <pre id="raw_json" class="d-none">
  {% include card-generator.html posts=site.posts count_limit=count_limit %}
  </pre>
  <!-- <a href="{{ post.url }}" class="sidebar-link sidebar-link-with-icon">
    <span class="sidebar-icon">
      <svg class="bi" width="18" height="18" fill="currentColor">
        <use xlink:href="/assets/img/bootstrap-icons.svg#file-post-fill"/>
      </svg>
    </span>
    <span>
      <b>{{ post.title }}</b><br>
      <span>
        {{ post.date | date: "%B %-d, %Y" }} | {% for category in post.categories %}<span class="inline badge">@{{category}}</span> {% endfor %} {% for tag in post.tags %}<span class="inline badge">#{{tag}}</span> {% endfor %}
      </span>
    </span>
  </a> -->
  <h2>Explore</h2>
  <div class="container-fluid">
    <div id="card-container">
      <!-- To be automatically filled --> 
    </div>
  </div>
</div>
<script>
var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function() {
  if (xhr.readyState == XMLHttpRequest.DONE) {
    preloadCards(xhr.responseText);
  }
}
xhr.open('GET', '/data/cards.json', true);
xhr.send(null);

function preloadCards(list){
  let data = null;
  let list2 = document.getElementById("raw_json").innerHTML;

  document.getElementById("raw_json").innerHTML = ""

  try {
    data = JSON.parse(list);
    data = data.concat(JSON.parse(list2.replace(/&lt;/g, "<").replace(/&gt;/g, ">")));
  } catch (e) {
    return;
  }
  if (!Array.isArray(data)) return;
  loadCards(data);
}
</script>